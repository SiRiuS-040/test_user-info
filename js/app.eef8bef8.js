(function(){"use strict";var e={999:function(e,i,a){var t=a(9242),l=a(3396);const n={class:"app-content"};function s(e,i,a,t,s,d){const r=(0,l.up)("AppHeader"),o=(0,l.up)("AppMain"),c=(0,l.up)("AppFooter");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(r,{class:"app-content__header"}),(0,l.Wm)(o,{class:"app-content__main"}),(0,l.Wm)(c,{class:"app-content__footer"})])}var d=a(7139),r=a.p+"img/alef_logo.7da72496.svg";const o={class:"app-header"},c={class:"app-header__content container"},p=(0,l._)("h1",{hidden:""},"Анкета пользователя",-1),f=(0,l._)("div",{class:"app-header__logo-wrapper"},[(0,l._)("img",{src:r,alt:"logo"})],-1),u={class:"app-header__nav navigation"},h=["href","onClick"];function v(e,i,a,t,n,s){return(0,l.wg)(),(0,l.iD)("header",o,[(0,l._)("div",c,[p,f,(0,l._)("ul",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.parentFormTabs,(e=>((0,l.wg)(),(0,l.iD)("li",{class:(0,d.C_)([{"is-active":e.isActive},"navigation__item"])},[(0,l._)("a",{href:e.href,onClick:i=>s.selectTab(e)},(0,d.zw)(e.name),9,h)],2)))),256))])])])}const m={formTab:{name:"Форма",isActive:!0},previewTab:{name:"Превью",isActive:!1}},_=[{id:0,fieldType:"text",dataType:"userData",labelType:"name",fieldLabel:"Имя",placeholder:"Введите Имя"},{id:1,fieldType:"tel",dataType:"userData",labelType:"age",fieldLabel:"Возраст",placeholder:"Полных лет"}],y=[{id:0,fieldType:"text",dataType:"childData",labelType:"name",fieldLabel:"Имя",placeholder:"Введите Имя"},{id:1,fieldType:"tel",dataType:"childData",labelType:"age",fieldLabel:"Возраст",placeholder:"Полных лет"}],b={data:{}},w=[],g={isFormValid:!1,invalidFields:0,formFieldStatus:[],dataSaved:!1};var T={name:"AppHeader",data(){return{parentFormTabs:m,fieldValidation:g}},methods:{clearFieldValidation(){this.fieldValidation.formFieldStatus=Array(),this.fieldValidation.dataSaved=!1},selectTab(e){this.clearFieldValidation();for(let i in this.parentFormTabs)this.parentFormTabs[i].isActive=this.parentFormTabs[i].name===e.name}}},D=a(89);const F=(0,D.Z)(T,[["render",v]]);var k=F;const C={class:"app-main"},V={key:0,class:"app-main__section content-container"},L={class:"information-form__parent-info"},A=(0,l._)("h2",{class:"app-main__section-title"},"Персональные данные",-1),I={class:"information-form__parent-fields"},S={class:"information-form__child-info"},O={class:"app-main__section-title information-form__child-title"},j=(0,l._)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,l._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.13332 10.8556C4.50125 10.8555 3.98887 11.3679 3.98887 12C3.98887 12.6321 4.50126 13.1445 5.13332 13.1445L10.8554 13.1445L10.8554 18.8668C10.8554 19.4989 11.3678 20.0113 11.9999 20.0113C12.632 20.0113 13.1444 19.4989 13.1444 18.8668L13.1443 13.1445L18.8667 13.1445C19.4988 13.1445 20.0112 12.6321 20.0112 12C20.0112 11.3679 19.4988 10.8556 18.8667 10.8556L13.1443 10.8556L13.1443 5.13338C13.1443 4.50132 12.632 3.98893 11.9999 3.98893C11.3678 3.98893 10.8554 4.50131 10.8554 5.13338L10.8554 10.8556L5.13332 10.8556Z",fill:"currentColor"})],-1),U={class:"information-form__children-list"},B={key:0,class:"information-form__info_saved"},P={key:1,class:"main__section content-container"},x={class:"preview-form"},W={key:0,class:"preview-form__wrapper"},$=(0,l._)("h2",{class:"app-main__section-title"},"Сведения отсутствуют",-1),Z=[$],q={key:1,class:"preview-form__wrapper"},H={class:"preview-form__user-info"},z=(0,l._)("h2",{class:"app-main__section-title"},"Персональные данные",-1),Y={class:"preview-form__user-data"},E={key:0,class:"preview-form__child-info"},K=(0,l._)("h2",{class:"app-main__section-title"},"Дети",-1),M={class:"preview-form__child-list"},N={key:0,class:"preview-form__child-desc"};function G(e,i,a,t,n,s){const r=(0,l.up)("UiFormField"),o=(0,l.up)("UiButton"),c=(0,l.up)("UiForm");return(0,l.wg)(),(0,l.iD)("main",C,[n.parentFormTabs.formTab.isActive?((0,l.wg)(),(0,l.iD)("section",V,[(0,l.Wm)(c,{class:"information-form"},{default:(0,l.w5)((()=>[(0,l._)("div",L,[A,(0,l._)("div",I,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.userFormFields,(e=>((0,l.wg)(),(0,l.j4)(r,{key:e.id,fieldType:e.fieldType,dataType:e.dataType,labelType:e.labelType,name:e.fieldLabel,placeholder:e.placeholder,value:n.userData[e.labelType],onCreateData:s.addData,class:"information-form__field"},null,8,["fieldType","dataType","labelType","name","placeholder","value","onCreateData"])))),128))])]),(0,l._)("div",S,[(0,l._)("h2",O,[(0,l.Uk)(" Дети (макс. 5) "),n.isAddChildBtnVisible?((0,l.wg)(),(0,l.j4)(o,{key:0,onClick:s.addChildField,buttonType:"add",class:"information-form__btn-add-child"},{icon:(0,l.w5)((()=>[j])),desc:(0,l.w5)((()=>[(0,l.Uk)(" Добавить ребенка ")])),_:1},8,["onClick"])):(0,l.kq)("",!0)]),(0,l._)("div",U,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.childList,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"information-form__child-fields",key:e.id},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.childFormFields,(i=>((0,l.wg)(),(0,l.j4)(r,{key:i.id,id:e.id,fieldType:i.fieldType,dataType:i.dataType,labelType:i.labelType,name:i.fieldLabel,placeholder:i.placeholder,onCreateData:s.addData,class:"information-form__field"},null,8,["id","fieldType","dataType","labelType","name","placeholder","onCreateData"])))),128)),(0,l.Wm)(o,{onClick:i=>s.deleteChildField(e.id),buttonType:"del"},{desc:(0,l.w5)((()=>[(0,l.Uk)(" Удалить ")])),_:2},1032,["onClick"])])))),128))])]),(0,l.Wm)(o,{onClick:i[0]||(i[0]=e=>s.saveData(n.fieldValidation)),buttonType:"save",class:"information-form__btn-save"},{desc:(0,l.w5)((()=>[(0,l.Uk)(" Сoхранить ")])),_:1}),n.fieldValidation.dataSaved?((0,l.wg)(),(0,l.iD)("h2",B,"Данные успешно сохранены!")):(0,l.kq)("",!0)])),_:1})])):(0,l.kq)("",!0),n.parentFormTabs.previewTab.isActive?((0,l.wg)(),(0,l.iD)("section",P,[(0,l._)("div",x,[n.userInfoPreview.userData.data.name.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",W,Z)),n.userInfoPreview.userData.data.name.value?((0,l.wg)(),(0,l.iD)("div",q,[(0,l._)("div",H,[z,(0,l._)("p",Y,[(0,l.Uk)((0,d.zw)(n.userInfoPreview.userData.data.name.value)+" ",1),(0,l._)("span",null,(0,d.zw)(`, ${s.setAge(n.userInfoPreview.userData.data.age.value)}`),1)])]),n.isChildListVisible?((0,l.wg)(),(0,l.iD)("div",E,[K,(0,l._)("ul",M,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.userInfoPreview.childData,(e=>((0,l.wg)(),(0,l.iD)("li",{key:e.id,class:"preview-form__child-item"},[e.data.name.value?((0,l.wg)(),(0,l.iD)("p",N,[(0,l._)("span",null,(0,d.zw)(e.data.name.value),1),(0,l._)("span",null,(0,d.zw)(`, ${s.setAge(e.data.age.value)}`),1)])):(0,l.kq)("",!0)])))),128))])])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])])):(0,l.kq)("",!0)])}a(7658);const J={class:"ui-form"};function Q(e,i,a,t,n,s){return(0,l.wg)(),(0,l.iD)("div",J,[(0,l.WI)(e.$slots,"default",{},void 0,!0)])}var R={name:"UiForm"};const X=(0,D.Z)(R,[["render",Q],["__scopeId","data-v-41cda570"]]);var ee=X;const ie={class:"ui-form-field__input-label"},ae=["type","placeholder"];function te(e,i,a,n,s,r){return(0,l.wg)(),(0,l.iD)("label",{class:(0,d.C_)([{"ui-form-field--has-error":!s.field.isValid&&s.field.validated},"ui-form-field"])},[(0,l._)("span",ie,(0,d.zw)(a.name),1),(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>s.field.value=e),onInput:i[1]||(i[1]=(...e)=>r.addData&&r.addData(...e)),type:a.fieldType,placeholder:a.placeholder,class:"ui-form-field__input-text"},null,40,ae),[[t.YZ,s.field.value]]),(0,l.WI)(e.$slots,"default",{},void 0,!0)],2)}var le={name:"UiFormField",props:{id:{type:Number,default:0},fieldType:{type:String,default:"text"},dataType:{type:String,default:"data"},labelType:{type:String,default:"Поле"},name:{type:String,default:"Значение"},placeholder:{type:String,default:"Placeholder"},value:{type:String,default:""}},data(e){return{field:{fieldId:e.id,dataType:e.dataType,labelType:e.labelType,value:e.value,isValid:!1,validated:!1},fieldData:{},fieldValidation:g}},mounted(e){this.fieldValidation.formFieldStatus.push(this.field)},methods:{validate(e){if(this.fieldValidation.invalidFields=0,this.field.validated=!0,"tel"===e.target.type){const i=/[0-9]|\./;i.test(e.data)||(this.field.value=this.field.value.slice(0,-1))}0===this.field.value.length?this.field.isValid=!1:this.field.isValid=!0},addData(e){this.validate(e),this.$emit("createData",this.field)}}};const ne=(0,D.Z)(le,[["render",te],["__scopeId","data-v-518ad3b2"]]);var se=ne;const de={class:"ui-button__desc"};function re(e,i,a,t,n,s){return(0,l.wg)(),(0,l.iD)("button",{class:(0,d.C_)(["ui-button",t.uiButtonClasses])},[(0,l.WI)(e.$slots,"icon"),(0,l._)("span",de,[(0,l.WI)(e.$slots,"desc")])],2)}var oe={name:"UiButton",props:{buttonType:{type:String,default:""}},setup(e){const i=e.buttonType?`ui-button--${e.buttonType}`:"";return{uiButtonClasses:i}}};const ce=(0,D.Z)(oe,[["render",re]]);var pe=ce,fe={name:"AppMain",components:{UiForm:ee,UiFormField:se,UiButton:pe},data(){return{parentFormTabs:m,userFormFields:_,childFormFields:y,fieldValidation:g,isChildListVisible:!1,isAddChildBtnVisible:!0,userData:b,childList:w,userInfoPreview:{userData:{data:{name:{},age:{}}},childData:[]}}},methods:{checkAddBtnVisibility(){this.childList.length>=5?this.isAddChildBtnVisible=!1:this.isAddChildBtnVisible=!0},checkChildListVisibility(){0===this.userInfoPreview.childData.length?this.isChildListVisible=!1:this.isChildListVisible=!0},setAge(e){function i(e,i){const a=[2,0,1,1,1,2];return i[e%100>4&&e%100<20?2:a[e%10<5?e%10:5]]}const a=["год","года","лет"];return`${e} ${i(e,a)}`},deleteChildField(e){let i=this.childList.findIndex((i=>i.id===e));g.formFieldStatus.forEach((function(e,a){"childData"===e.dataType&&e.fieldId===i&&delete g.formFieldStatus[a]})),this.childList.splice(i,1),this.checkAddBtnVisibility(),this.checkChildListVisibility()},addChildField(e){e.preventDefault();const i={data:{}};if(0===this.childList.length)i.id=0;else{const e=this.childList.at(-1).id;i.id=e+1}this.childList.push(i),this.checkAddBtnVisibility(),this.checkChildListVisibility()},addData(e){if(this.fieldValidation.dataSaved=!1,"userData"===e.dataType&&(this.userData.data[e.labelType]=e),"childData"===e.dataType){const i=this.childList.findIndex((i=>i.id===e.fieldId));this.childList[i].data[e.labelType]=e}},clearData(){this.fieldValidation.formFieldStatus.splice(2),this.childList=Array(),this.userData.data.name.value="",this.userData.data.age.value="",this.fieldValidation.formFieldStatus.forEach((function(e){e.validated=!1,e.isValid=!1}))},saveData(e){if(e.dataSaved=!1,e.isFormValid=!1,e.invalidFields=0,e.formFieldStatus.forEach((function(i){i.validated=!0,!1===i.isValid&&e.invalidFields++})),0===e.invalidFields&&(e.isFormValid=!0),1==e.isFormValid){this.fieldValidation.dataSaved=!0,this.userInfoPreview.userData=Object(),this.userInfoPreview.childData=Array();const e={data:{}};for(let a in this.userData.data){let i=Object();Object.assign(i,this.userData.data[a]),e.data[a]=i}const i=Array();this.childList.forEach((function(e){let a={};Object.assign(a,e),i.push(a)})),Object.assign(this.userInfoPreview.userData,e),Object.assign(this.userInfoPreview.childData,i),this.clearData(),this.checkAddBtnVisibility(),this.checkChildListVisibility()}}}};const ue=(0,D.Z)(fe,[["render",G]]);var he=ue;const ve={class:"app-footer"},me=(0,l._)("div",{class:"app-footer__content container"},[(0,l._)("div",{class:"container"},[(0,l._)("p",{class:"app-footer__description"}," all rights reserved ")])],-1),_e=[me];function ye(e,i,a,t,n,s){return(0,l.wg)(),(0,l.iD)("footer",ve,_e)}var be={name:"AppFooter"};const we=(0,D.Z)(be,[["render",ye]]);var ge=we,Te={name:"App",components:{AppHeader:k,AppMain:he,AppFooter:ge}};const De=(0,D.Z)(Te,[["render",s]]);var Fe=De;(0,t.ri)(Fe).mount("#app")}},i={};function a(t){var l=i[t];if(void 0!==l)return l.exports;var n=i[t]={exports:{}};return e[t](n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(i,t,l,n){if(!t){var s=1/0;for(c=0;c<e.length;c++){t=e[c][0],l=e[c][1],n=e[c][2];for(var d=!0,r=0;r<t.length;r++)(!1&n||s>=n)&&Object.keys(a.O).every((function(e){return a.O[e](t[r])}))?t.splice(r--,1):(d=!1,n<s&&(s=n));if(d){e.splice(c--,1);var o=l();void 0!==o&&(i=o)}}return i}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[t,l,n]}}(),function(){a.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(i,{a:i}),i}}(),function(){a.d=function(e,i){for(var t in i)a.o(i,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:i[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)}}(),function(){a.p="/test_user-info_vue/"}(),function(){var e={143:0};a.O.j=function(i){return 0===e[i]};var i=function(i,t){var l,n,s=t[0],d=t[1],r=t[2],o=0;if(s.some((function(i){return 0!==e[i]}))){for(l in d)a.o(d,l)&&(a.m[l]=d[l]);if(r)var c=r(a)}for(i&&i(t);o<s.length;o++)n=s[o],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},t=self["webpackChunkuserInfo"]=self["webpackChunkuserInfo"]||[];t.forEach(i.bind(null,0)),t.push=i.bind(null,t.push.bind(t))}();var t=a.O(void 0,[998],(function(){return a(999)}));t=a.O(t)})();
//# sourceMappingURL=app.eef8bef8.js.map